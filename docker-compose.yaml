services:
  next-app:
    build:
      context: .
      args:
        - MONGODB_URI=${MONGODB_URI:-mongodb://extend-mongodb:27017/LibreChat}
        - MONGODB_DB_NAME=LibreChat
        - NEXT_PUBLIC_BASE_PATH=/dashboard
    container_name: librechat-admin-dashboard
    expose:
      - "3000"
    environment:
      - MONGODB_URI=${MONGODB_URI:-mongodb://extend-mongodb:27017/LibreChat}
      - MONGODB_DB_NAME=LibreChat
      - DASHBOARD_PASSWORD=${DASHBOARD_PASSWORD:-admin}
      - SESSION_SECRET=${SESSION_SECRET:-default-session-secret-change-in-production}
      - NODE_ENV=production
    networks:
      - extend-network
    restart: always

networks:
  extend-network:
    external: true
